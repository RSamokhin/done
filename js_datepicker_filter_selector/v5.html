<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


<style>
    #courusel-container{
        width: 650px;
        height: 80px;
    }
    .line-container{
        width: 100%;
        height: 35px;
    }
    #courusel-hr{
        width: 90%;
        margin-bottom: 5px;
        margin-top: 5px;
    }
    .pn-button{
        width: 25px;
        background-size: cover;
        height: 25px;
        margin-bottom: 5px;
        cursor: pointer;
    }
    .pn-button-hidden{
        visibility: hidden;
    }
    .inline-container{
        display: inline-block;
        box-sizing: border-box;
    }
    .previous-button{
        margin-left: 10px;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY5NzM4MzQ1RTM1MjExRTRBM0YzODczMjdERTUwRTE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY5NzM4MzQ2RTM1MjExRTRBM0YzODczMjdERTUwRTE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjk3MzgzNDNFMzUyMTFFNEEzRjM4NzMyN0RFNTBFMTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjk3MzgzNDRFMzUyMTFFNEEzRjM4NzMyN0RFNTBFMTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VbThKAAAGxUlEQVR42qRX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');
    }
    .pick-container{
        width: 572px;
        height: 35px;
    }
    .pick-container-inner>.ym-button-container{
        width:20%;
    }
    .next-button{
        background-image: url('data:image/png;base64,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');
    }
    .ym-button-container{
        display: table-cell;
        vertical-align: middle;
    }
    .pick-container-inner{
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        display: table;
    }
    .ym-button{
        height: 23px;
        cursor: pointer;
        line-height: 25px;
        color: #0077B3;
        font-family: sans-serif;
    }
    .year-button{
        width: 100px;
    }
    .ym-button:hover{
        opacity: 0.8;
    }
    .year-selected{
        color: #0077B3;
        font-weight: bold;
    }
    .year-selected:hover{
        color: #7cbbdf;
    }
    .month-button{
        font-weight: bold;
    }
    .month-button-selected {
        background-color: #02bcff;
        color: #FFF;
    }
    .month-button-selected:hover {
        color: #FFF;
    }
    .ym-button-hidden{
        display: none;
    }
    #filter-button{
        height: 23px;
        cursor: pointer;
        line-height: 25px;
        color: #0077B3;
        font-family: sans-serif;
    }
    #filter-button:hover{
        opacity: 0.8;
        text-decoration: underline;
    }
    .picker-global-container-hidden{
        display: none;
    }
    .ms-csrlistview-controldiv,.ms-pivotControl-container{
        display: none;
    }
    table.ms-listviewtable>thead{
        display: none;
    }
    .year-hidden{
        display: none !important;
    }
    .month-hidden{
        display: none !important;
    }
</style>

<span id="filter-button">Фильтры</span>
<div id="picker-global-container" class="picker-global-container-hidden">
    <div id="courusel-container">
        <div id="year-container" class="line-container">
            <div class="previous-button pn-button inline-container pn-button-hidden"></div>
            <div class="pick-container inline-container">
                <div class="pick-container-inner">

                    <div class="ym-button-container" align="center">
                        <div class="ym-button year-button">2014</div>
                    </div>
                    <div class="ym-button-container" align="center">
                        <div class="ym-button year-button">2015</div>
                    </div>

                </div>
            </div>
            <div class="next-button pn-button inline-container pn-button-hidden"></div>
        </div>
        <hr id="courusel-hr" />
        <div id="month-container" class="line-container">
            <div class="previous-button pn-button inline-container pn-button-hidden"></div>
            <div class="pick-container inline-container">
                <div class="pick-container-inner">
                    <div class="ym-button-container" align="center">
                        <div class="ym-button month-button ">Январь</div>
                    </div>
                    <div class="ym-button-container" align="center">
                        <div class="ym-button month-button">Февраль</div>
                    </div>
                    <div class="ym-button-container" align="center">
                        <div class="ym-button month-button">Март</div>
                    </div>
                    <div class="ym-button-container" align="center">
                        <div class="ym-button month-button ">Апрель</div>
                    </div>
                    <div class="ym-button-container" align="center">
                        <div class="ym-button month-button">Май</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Июнь</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Июль</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Август</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Сентябрь</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Октябрь</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Ноябрь</div>
                    </div>
                    <div class="ym-button-container ym-button-hidden" align="center">
                        <div class="ym-button month-button">Декабрь</div>
                    </div>
                </div>
            </div>
            <div class="next-button pn-button inline-container"></div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        $('[id*=WebPartWPQ]:not([webpartid]):eq(0)').hide();
        var filterButton = $('#filter-button');
        filterButton.on('click',function(){
            $('#picker-global-container').toggleClass('picker-global-container-hidden');
            if($('.picker-global-container-hidden').length>0){
                $('#filter-button').text('Фильтры');
                $('[id*=WebPartWPQ]:not([webpartid]):eq(0)').hide();
                $('[id*=WebPartWPQ]:not([webpartid]):eq(1)').show();
                $('.month-button-selected').removeClass('month-button-selected');
                $('.year-selected').removeClass('year-selected');
                $('.year-hidden').removeClass('year-hidden');
                $('.month-hidden').removeClass('month-hidden');
            }else{
                $('#filter-button').text('Сбросить фильтр');
            }
        });
        $('.next-button').on('click',function(){
            $(this).prev().find('.ym-button-container:not(.ym-button-hidden)').first().addClass('ym-button-hidden');
            $(this).prev().find('.ym-button-container:not(.ym-button-hidden)').last().next().removeClass('ym-button-hidden');
            if($(this).siblings('.previous-button').hasClass('pn-button-hidden')){
                $(this).siblings('.previous-button').removeClass('pn-button-hidden');
            }
            if($(this).prev().find('.ym-button-container:not(.ym-button-hidden)').last().index()===11){
                $(this).addClass('pn-button-hidden');
            }
        });
        $('.previous-button').on('click',function(){
            $(this).next().find('.ym-button-container:not(.ym-button-hidden)').last().addClass('ym-button-hidden');
            $(this).next().find('.ym-button-container:not(.ym-button-hidden)').first().prev().removeClass('ym-button-hidden');
            if($(this).siblings('.next-button').hasClass('pn-button-hidden')){
                $(this).siblings('.next-button').removeClass('pn-button-hidden');
            }
            if($(this).next().find('.ym-button-container:not(.ym-button-hidden)').first().index()===0){
                $(this).addClass('pn-button-hidden');
            }
        });
        $('.year-button').on('click',function(){
            $(this).closest('.pick-container-inner').find('.year-selected').removeClass('year-selected');
            $(this).addClass('year-selected');
            var yearFilter = $(this).text();
            try {
                var fArray = WPQ2ListData.Row.filter(function(el){
                    return el.NewsDate.indexOf('.'+yearFilter+' ')>-1;
                });
                $('#scriptWPQ2').find('div.last-news-info-text').closest('li').addClass('year-hidden');
                fArray.forEach(function(el){
                    $('#scriptWPQ2').find('div.last-news-info-text:odd:contains(.'+yearFilter+')').closest('li').removeClass('year-hidden');
                });
            }catch(e){

            }
        });
        $('.month-button').on('click',function(){
            $(this).closest('.pick-container-inner').find('.month-button-selected').removeClass('month-button-selected');
            $(this).addClass('month-button-selected');
            var monthFilter = $(this).parent().index()+1;
            monthFilter = (monthFilter>9)?monthFilter:'0'+monthFilter;
            try {
                var fArray = WPQ2ListData.Row.filter(function(el){
                    return el.NewsDate.indexOf('.'+monthFilter+'.')>-1;
                });
                $('#scriptWPQ2').find('div.last-news-info-text').closest('li').addClass('month-hidden');
                fArray.forEach(function(el){
                    $('#scriptWPQ2').find('div.last-news-info-text:odd:contains(.'+monthFilter+'.)').closest('li').removeClass('month-hidden');
                });
            }catch(e){

            }
        });
        $('.ym-button').on('click',function(){
            $('[id*=WebPartWPQ]:not([webpartid]):eq(0)').show();
            $('[id*=WebPartWPQ]:not([webpartid]):eq(1)').hide();
        });
    });
</script>